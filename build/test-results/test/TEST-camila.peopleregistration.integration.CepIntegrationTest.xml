<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="camila.peopleregistration.integration.CepIntegrationTest" tests="2" skipped="0" failures="0" errors="0" timestamp="2023-04-05T15:02:36" hostname="forttiori-Lenovo-ideapad-320-15IKB" time="0.554">
  <properties/>
  <testcase name="Deve pesquisar CEP na api externa" classname="camila.peopleregistration.integration.CepIntegrationTest" time="0.518"/>
  <testcase name="Deve lançar ApiNotFoundException quando o cep estiver em branco" classname="camila.peopleregistration.integration.CepIntegrationTest" time="0.035"/>
  <system-out><![CDATA[2023-04-05 12:02:36.633  INFO 5214 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 44897 started on port: 44897
2023-04-05 12:02:37.097  INFO 5214 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 44897 creating expectation:

  {
    "httpRequest" : {
      "method" : "GET",
      "path" : "/ws/94020070/json"
    },
    "httpResponse" : {
      "statusCode" : 200,
      "reasonPhrase" : "OK",
      "headers" : {
        "Content-Type" : [ "application/json" ]
      },
      "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
    },
    "id" : "1b17595f-83be-468b-aedc-cdb13a0aa9f1",
    "priority" : 0,
    "timeToLive" : {
      "unlimited" : true
    },
    "times" : {
      "unlimited" : true
    }
  }

 with id:

  1b17595f-83be-468b-aedc-cdb13a0aa9f1

2023-04-05 12:02:37.133  INFO 5214 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 44897 received request:

  {
    "method" : "GET",
    "path" : "/ws/94020070/json",
    "headers" : {
      "content-length" : [ "0" ],
      "content-encoding" : [ ".*" ],
      "User-Agent" : [ "Apache-HttpClient/4.5.13 (Java/19.0.2)" ],
      "Host" : [ "localhost:44897" ],
      "Connection" : [ "Keep-Alive" ],
      "Accept-Encoding" : [ "gzip,deflate" ],
      "Accept" : [ "application/json, application/*+json" ]
    },
    "keepAlive" : true,
    "secure" : false,
    "localAddress" : "127.0.0.1:44897",
    "remoteAddress" : "127.0.0.1"
  }

2023-04-05 12:02:37.137  INFO 5214 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 44897 request:

  {
    "method" : "GET",
    "path" : "/ws/94020070/json",
    "headers" : {
      "content-length" : [ "0" ],
      "content-encoding" : [ ".*" ],
      "User-Agent" : [ "Apache-HttpClient/4.5.13 (Java/19.0.2)" ],
      "Host" : [ "localhost:44897" ],
      "Connection" : [ "Keep-Alive" ],
      "Accept-Encoding" : [ "gzip,deflate" ],
      "Accept" : [ "application/json, application/*+json" ]
    },
    "keepAlive" : true,
    "secure" : false,
    "localAddress" : "127.0.0.1:44897",
    "remoteAddress" : "127.0.0.1"
  }

 matched expectation:

  {
    "httpRequest" : {
      "method" : "GET",
      "path" : "/ws/94020070/json"
    },
    "httpResponse" : {
      "statusCode" : 200,
      "reasonPhrase" : "OK",
      "headers" : {
        "Content-Type" : [ "application/json" ]
      },
      "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
    },
    "id" : "1b17595f-83be-468b-aedc-cdb13a0aa9f1",
    "priority" : 0,
    "timeToLive" : {
      "unlimited" : true
    },
    "times" : {
      "unlimited" : true
    }
  }

2023-04-05 12:02:37.145  INFO 5214 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 44897 returning response:

  {
    "statusCode" : 200,
    "reasonPhrase" : "OK",
    "headers" : {
      "Content-Type" : [ "application/json" ]
    },
    "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
  }

 for request:

  {
    "method" : "GET",
    "path" : "/ws/94020070/json",
    "headers" : {
      "content-length" : [ "0" ],
      "content-encoding" : [ ".*" ],
      "User-Agent" : [ "Apache-HttpClient/4.5.13 (Java/19.0.2)" ],
      "Host" : [ "localhost:44897" ],
      "Connection" : [ "Keep-Alive" ],
      "Accept-Encoding" : [ "gzip,deflate" ],
      "Accept" : [ "application/json, application/*+json" ]
    },
    "keepAlive" : true,
    "secure" : false,
    "localAddress" : "127.0.0.1:44897",
    "remoteAddress" : "127.0.0.1"
  }

 for action:

  {
    "statusCode" : 200,
    "reasonPhrase" : "OK",
    "headers" : {
      "Content-Type" : [ "application/json" ]
    },
    "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
  }

 from expectation:

  1b17595f-83be-468b-aedc-cdb13a0aa9f1

2023-04-05 12:02:37.190  INFO 5214 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 44897 stopped for port: 44897
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
