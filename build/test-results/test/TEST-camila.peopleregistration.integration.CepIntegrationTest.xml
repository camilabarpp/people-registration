<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="camila.peopleregistration.integration.CepIntegrationTest" tests="2" skipped="0" failures="0" errors="0" timestamp="2023-03-02T13:19:57" hostname="forttiori-Lenovo-ideapad-320-15IKB" time="0.482">
  <properties/>
  <testcase name="Deve pesquisar CEP na api externa" classname="camila.peopleregistration.integration.CepIntegrationTest" time="0.448"/>
  <testcase name="Deve lançar ApiNotFoundException quando o cep estiver em branco" classname="camila.peopleregistration.integration.CepIntegrationTest" time="0.034"/>
  <system-out><![CDATA[2023-03-02 10:19:57.907  INFO 17259 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 37931 started on port: 37931
2023-03-02 10:19:58.304  INFO 17259 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 37931 creating expectation:

  {
    "httpRequest" : {
      "method" : "GET",
      "path" : "/ws/94020070/json"
    },
    "httpResponse" : {
      "statusCode" : 200,
      "reasonPhrase" : "OK",
      "headers" : {
        "Content-Type" : [ "application/json" ]
      },
      "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
    },
    "id" : "18f2fb1c-7f68-430b-810a-484b881c9383",
    "priority" : 0,
    "timeToLive" : {
      "unlimited" : true
    },
    "times" : {
      "unlimited" : true
    }
  }

 with id:

  18f2fb1c-7f68-430b-810a-484b881c9383

2023-03-02 10:19:58.342  INFO 17259 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 37931 received request:

  {
    "method" : "GET",
    "path" : "/ws/94020070/json",
    "headers" : {
      "content-length" : [ "0" ],
      "content-encoding" : [ ".*" ],
      "User-Agent" : [ "Apache-HttpClient/4.5.13 (Java/18.0.2)" ],
      "Host" : [ "localhost:37931" ],
      "Connection" : [ "Keep-Alive" ],
      "Accept-Encoding" : [ "gzip,deflate" ],
      "Accept" : [ "application/json, application/*+json" ]
    },
    "keepAlive" : true,
    "secure" : false,
    "localAddress" : "127.0.0.1:37931",
    "remoteAddress" : "127.0.0.1"
  }

2023-03-02 10:19:58.345  INFO 17259 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 37931 request:

  {
    "method" : "GET",
    "path" : "/ws/94020070/json",
    "headers" : {
      "content-length" : [ "0" ],
      "content-encoding" : [ ".*" ],
      "User-Agent" : [ "Apache-HttpClient/4.5.13 (Java/18.0.2)" ],
      "Host" : [ "localhost:37931" ],
      "Connection" : [ "Keep-Alive" ],
      "Accept-Encoding" : [ "gzip,deflate" ],
      "Accept" : [ "application/json, application/*+json" ]
    },
    "keepAlive" : true,
    "secure" : false,
    "localAddress" : "127.0.0.1:37931",
    "remoteAddress" : "127.0.0.1"
  }

 matched expectation:

  {
    "httpRequest" : {
      "method" : "GET",
      "path" : "/ws/94020070/json"
    },
    "httpResponse" : {
      "statusCode" : 200,
      "reasonPhrase" : "OK",
      "headers" : {
        "Content-Type" : [ "application/json" ]
      },
      "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
    },
    "id" : "18f2fb1c-7f68-430b-810a-484b881c9383",
    "priority" : 0,
    "timeToLive" : {
      "unlimited" : true
    },
    "times" : {
      "unlimited" : true
    }
  }

2023-03-02 10:19:58.353  INFO 17259 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 37931 returning response:

  {
    "statusCode" : 200,
    "reasonPhrase" : "OK",
    "headers" : {
      "Content-Type" : [ "application/json" ]
    },
    "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
  }

 for request:

  {
    "method" : "GET",
    "path" : "/ws/94020070/json",
    "headers" : {
      "content-length" : [ "0" ],
      "content-encoding" : [ ".*" ],
      "User-Agent" : [ "Apache-HttpClient/4.5.13 (Java/18.0.2)" ],
      "Host" : [ "localhost:37931" ],
      "Connection" : [ "Keep-Alive" ],
      "Accept-Encoding" : [ "gzip,deflate" ],
      "Accept" : [ "application/json, application/*+json" ]
    },
    "keepAlive" : true,
    "secure" : false,
    "localAddress" : "127.0.0.1:37931",
    "remoteAddress" : "127.0.0.1"
  }

 for action:

  {
    "statusCode" : 200,
    "reasonPhrase" : "OK",
    "headers" : {
      "Content-Type" : [ "application/json" ]
    },
    "body" : "{\"id\":null,\"cep\":\"94020070\",\"number\":\"10\",\"uf\":\"RS\",\"mainAddress\":true,\"logradouro\":\"Rua João Dutra\",\"bairro\":\"Salgado Filho\",\"localidade\":\"Gravatai\"}"
  }

 from expectation:

  18f2fb1c-7f68-430b-810a-484b881c9383

2023-03-02 10:19:58.391  INFO 17259 --- [erver-EventLog0] org.mockserver.log.MockServerEventLog    : 37931 stopped for port: 37931
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
